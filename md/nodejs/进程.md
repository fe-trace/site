## 进程变迁

### 同步进程
同步阻塞方式进行请求处理，每次只能处理一个请求，处理完成后再处理下一个。并发能力低。

### 多进程
同步方式存在处理效率低下的问题，为了解决并发问题，多进程架构开始出现。但是每请求每进程的处理方式，资源消耗大。

### 多线程
多进程在一定程度上解决了并发问题，但是消耗的资源也随之增加，为了提高请求处理能力，多线程处理方式开始流行，进行使用的资源相对线程更小，处理请求的能力会更强。

### 事件驱动
多线程方式在一段时间内效率和性能能够满足需求，但在到并发情况下，资源消耗还是会直线增加。为了解决高并发问题，事件驱动的服务模型出现了，采用单线程能避免了上下文切换等带来的内存消耗。同时也引入了两个问题：
1.如何利用多核CPU
2.进程的健壮性如何保证

### 多进程架构
为了解决单线程不能充分利用多核CPU的问题，使用多进程方式处理请求是一个不错的方案。
文件描述符：https://www.jianshu.com/p/a2df1d402b4d

### 多进程监听相同端口
如果单独启动多进程监听不同端口会造成文件描述符的浪费，使用主从模式，主从进程之间可以通过共享文件描述符来监听到同一个端口。主进程发送文件server对象到子进程时，可以取到对应的文件描述符，底层会新建server对象同时监听到文件描述符上实现监听同一个端口。

### 集群稳定
